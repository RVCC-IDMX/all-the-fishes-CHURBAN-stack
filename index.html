<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Fish Tank</title>
    <script src="https://pixijs.download/release/pixi.min.js"></script>
  </head>
  <body>
    <script>
      //The App
      var app = new PIXI.Application({
        width: 640,
        height: 480,
        backgroundColor: 0x000000,
      });

      //Add view to the document
      document.body.appendChild(app.view);

      //Background
      let background = PIXI.Sprite.from("img/background.jpg");
      background.scale.set(0.35);
      background.x = -100;
      background.y = -100;
      app.stage.addChild(background);

      //My first sprite
      let fish1 = PIXI.Sprite.from("img/lepomis-cyanellus.gif");
      fish1.scale.set(0.25);
      fish1.x = -200;
      fish1.y = 0;
      fish1.angle = 20;
      fish1.tint = 0xffffff;
      fish1.y = 10;

      //My second sprite
      let fish2 = PIXI.Sprite.from("img/fish.png");
      fish2.x = 10;
      fish2.y = 100;
      fish2.scale.set(0.1);
      fish2.tint = 0xffd700;

      //Seaweed
      let seaweed = PIXI.Sprite.from("img/seaweed.png");
      seaweed.x = 200;
      seaweed.y = 200;
      seaweed.scale.set(0.25);

      //My third sprite
      let fish3 = PIXI.Sprite.from("img/colorful-fish1.png");
      fish3.x = -300;
      fish3.y = 0;
      fish3.scale.set(0.085);

      //Add it to the stage!
      app.stage.addChild(fish1);
      app.stage.addChild(fish2);
      app.stage.addChild(fish3);
      app.stage.addChild(seaweed);

      //My container
      var my_container = new PIXI.Container();
      my_container.addChild(fish1);
      my_container.addChild(fish2);
      my_container.addChild(fish3);

      my_container.x = 320;
      my_container.y = 240;

      app.stage.addChild(my_container);

      //Animation loop!
      function animationLoop() {
        let time = Date.now();

        let wobble1 = Math.sin(time / 1000) * 15;
        let wobble2 = Math.sin(time / 700) * 50;
        let wobble3 = Math.cos(time / 600) * 50;
        fish1.y = wobble1;
        fish2.y = wobble2;
        fish3.x = wobble3;

        setTimeout(animationLoop, 1000 / 30);
      }
      animationLoop();
    </script>
  </body>
</html>
